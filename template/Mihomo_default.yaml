u: &u
  type: url-test
  strategy: consistent-hashing
  url: http://cp.cloudflare.com/generate_204
  interval: 300
  lazy: true
  timeout: 5000
  tolerance: 1
  max-failed-times: 5
  include-all: true

domain_mrs: &domain_mrs
  type: http
  interval: 86400
  behavior: domain
  format: mrs
  proxy: ğŸ¯å…¨çƒç›´è¿

ipcidr_mrs: &ipcidr_mrs
  type: http
  interval: 86400
  behavior: ipcidr
  format: mrs
  proxy: ğŸ¯å…¨çƒç›´è¿

proxy-groups:
  - { name: ğŸš€å…¨çƒä»£ç†, type: select, proxies: [â™»ï¸è‡ªåŠ¨é€‰æ‹©, ğŸŸ¢æ‰‹åŠ¨é€‰æ‹©, âš¡ï¸å‡è¡¡è´Ÿè½½, ğŸ”¯æ•…éšœè½¬ç§», ğŸ¯å…¨çƒç›´è¿, ğŸ‡­ğŸ‡°é¦™æ¸¯è‡ªåŠ¨, ğŸ‡¹ğŸ‡¼å°æ¹¾è‡ªåŠ¨, ğŸ‡¯ğŸ‡µæ—¥æœ¬è‡ªåŠ¨, ğŸ‡ºğŸ‡¸ç¾å›½è‡ªåŠ¨, ğŸ‡¸ğŸ‡¬æ–°åŠ å¡è‡ªåŠ¨, ğŸ‡°ğŸ‡·éŸ©å›½è‡ªåŠ¨] }
  - { name: ğŸŸ¢æ‰‹åŠ¨é€‰æ‹©, <<: *u, type: select }
  - { name: ğŸ¯å…¨å±€ç›´è¿, type: select, hidden: true, proxies: [DIRECT] }
  - { name: ğŸš«æ‹’ç»è¿æ¥, type: select, hidden: true, proxies: [REJECT] }
  - { name: ğŸš«é™é»˜æ‹’ç», type: select, hidden: true, proxies: [REJECT-DROP] }
  - { name: âšªç»•è¿‡è¿æ¥, type: select, hidden: true, proxies: [PASS] }
  - { name: ğŸª§å¹¿å‘Šæ‹¦æˆª, type: select, proxies: [ğŸš«é™é»˜æ‹’ç», ğŸš«æ‹’ç»è¿æ¥, âšªç»•è¿‡è¿æ¥] }
  - { name: ğŸ’§æ³„æ¼æ‹¦æˆª, type: select, proxies: [ğŸš«é™é»˜æ‹’ç», ğŸš«æ‹’ç»è¿æ¥, âšªç»•è¿‡è¿æ¥] }
  - { name: ğŸ¯å…¨çƒç›´è¿, type: select, proxies: [ğŸ¯å…¨å±€ç›´è¿, ğŸš€å…¨çƒä»£ç†, ğŸŸ¢æ‰‹åŠ¨é€‰æ‹©, â™»ï¸è‡ªåŠ¨é€‰æ‹©] }
  - { name: â™»ï¸è‡ªåŠ¨é€‰æ‹©, <<: *u, type: url-test }
  - { name: âš¡ï¸å‡è¡¡è´Ÿè½½, <<: *u, strategy: round-robin, type: load-balance }
  - { name: ğŸ”¯æ•…éšœè½¬ç§», <<: *u, type: fallback }
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯è‡ªåŠ¨, <<: *u, hidden: true, filter: '(?i)ğŸ‡­ğŸ‡°|\\bHK\\b|é¦™æ¸¯|Hong Kong' }
  - { name: ğŸ‡¹ğŸ‡¼å°æ¹¾è‡ªåŠ¨, <<: *u, hidden: true, filter: '(?i)ğŸ‡¹ğŸ‡¼|\\bTW\\b|å°æ¹¾|Taiwan' }
  - { name: ğŸ‡¯ğŸ‡µæ—¥æœ¬è‡ªåŠ¨, <<: *u, hidden: true, filter: '(?i)ğŸ‡¯ğŸ‡µ|\\bJP\\b|æ—¥æœ¬|Japan' }
  - { name: ğŸ‡ºğŸ‡¸ç¾å›½è‡ªåŠ¨, <<: *u, hidden: true, filter: '(?i)ğŸ‡ºğŸ‡¸|\\bUS\\b|ç¾å›½|United States|CT' }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡è‡ªåŠ¨, <<: *u, hidden: true, filter: '(?i)ğŸ‡¸ğŸ‡¬|\\bSG\\b|æ–°åŠ å¡|Singapore' }
  - { name: ğŸ‡°ğŸ‡·éŸ©å›½è‡ªåŠ¨, <<: *u, hidden: true, filter: '(?i)ğŸ‡°ğŸ‡·|\\bKR\\b|éŸ©å›½|South Korea' }
  - { name: GLOBAL, type: select, include-all: true, proxies: [ğŸš€å…¨çƒä»£ç†, ğŸŸ¢æ‰‹åŠ¨é€‰æ‹©, ğŸª§å¹¿å‘Šæ‹¦æˆª, ğŸ’§æ³„æ¼æ‹¦æˆª, ğŸ¯å…¨çƒç›´è¿, â™»ï¸è‡ªåŠ¨é€‰æ‹©, âš¡ï¸å‡è¡¡è´Ÿè½½, ğŸ”¯æ•…éšœè½¬ç§»], icon: https://cdn.jsdelivr.net/gh/Kwisma/rules@main/icon/webp/100/GLOBAL.webp }

rule-providers:
  Advertising-ads:
    <<: *domain_mrs
    url: https://cdn.jsdelivr.net/gh/TG-Twilight/AWAvenue-Ads-Rule@main/Filters/AWAvenue-Ads-Rule-Clash.mrs
    path: ./ruleset/Advertising_ads_Domain.mrs

  STUN:
    <<: *domain_mrs
    url: https://cdn.jsdelivr.net/gh/Kwisma/rules@main/rules/mihomo/STUN/STUN_Domain.mrs
    path: ./ruleset/STUN_Domain.mrs

  CNcidr:
    <<: *ipcidr_mrs
    url: https://cdn.jsdelivr.net/gh/Kwisma/clash-rules@release/cncidr.mrs
    path: ./ruleset/CN_IP.mrs

  Private:
    <<: *domain_mrs
    url: https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs
    path: ./ruleset/Private_Domain.mrs

  WeChat:
    <<: *domain_mrs
    url: https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geo/geosite/wechat.mrs
    path: ./ruleset/WeChat_Domain.mrs

rules:
  - RULE-SET,WeChat,ğŸ¯å…¨çƒç›´è¿
  - RULE-SET,Private,ğŸ¯å…¨çƒç›´è¿
  - RULE-SET,CNcidr,ğŸ¯å…¨çƒç›´è¿
  - SUB-RULE,(OR,((NETWORK,UDP),(NETWORK,TCP))),SUB-REJECT
  - MATCH,ğŸš€å…¨çƒä»£ç†
